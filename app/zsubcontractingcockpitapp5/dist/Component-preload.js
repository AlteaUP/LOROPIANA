//@ui5-bundle zsubcontractingcockpitapp5/Component-preload.js
sap.ui.require.preload({
	"zsubcontractingcockpitapp5/Component.js":function(){
sap.ui.define(["sap/fe/core/AppComponent"],function(n){"use strict";return n.extend("zsubcontractingcockpitapp5.Component",{metadata:{manifest:"json"}})});
},
	"zsubcontractingcockpitapp5/ext/Fragment/MaterialDocumentCreation.fragment.xml":'<core:FragmentDefinition\n   xmlns="sap.m"\n\t xmlns:f="sap.ui.layout.form"\n   xmlns:core="sap.ui.core"><Dialog\n      id="ManualAccountingDialog"\n      contentHeight="50%"\n      contentWidth="70%"\n      resizable="false"\n      type="Message"\n      state="None"\n      icon="sap-icon://it-host"\n      title="{i18n>createMaterialDocument}"><content><f:SimpleForm id="SimpleFormDisplay354"\n          editable="true"\n          layout="ResponsiveGridLayout"\n          labelSpanXL="3"\n          labelSpanL="3"\n          labelSpanM="3"\n          labelSpanS="12"\n          adjustLabelSpan="false"\n          emptySpanXL="4"\n          emptySpanL="4"\n          emptySpanM="4"\n          emptySpanS="0"\n          columnsXL="1"\n          columnsL="1"\n          columnsM="1"\n          singleContainerFullSize="false" ><f:content><Label text="{i18n>vstel}" /><Input id="shippingPointID" value="{Vstel}" required="true" showValueHelp="true" valueHelpRequest=".onValueHelpRequestShippingPoint" /></f:content></f:SimpleForm><Table id="selectedMaterialTableId"\n          items="{\n            path: \'/SelectedMaterial\'\n          }"><columns><Column><Text text="{i18n>cprodOrd}"/></Column><Column><Text text="{i18n>plant}"/></Column><Column><Text text="{i18n>material}"/></Column><Column ><Text text="{i18n>batch}"/></Column><Column><Text text="{i18n>stock}"/></Column><Column><Text text="{i18n>quantityToIssue}"/></Column><Column><Text text="{i18n>quantity}"/></Column><Column><Text text="{i18n>totalWithdrawnQuantity}"/></Column><Column id="lgort1ID"><Text text="{i18n>lgort1}"/></Column><Column id="lgort2ID"><Text text="{i18n>lgort2}"/></Column></columns><items><ColumnListItem vAlign="Middle"><cells><Input \n                  value="{CprodOrd}" editable="false" /><Input \n                  value="{Plant}" editable="false" /><Input \n                  value="{Material}" editable="false" /><Input \n                  value="{Batch}" editable="false" /><Input \n                  value="{StockMaterial}" description="{BaseUnit}" editable="false" /><Input \n                  value="{QtyToIssue}" description="{BaseUnit}" /><Input \n                  value="{TotalConfdQtyForATPInBaseUoM}" description="{BaseUnit}" editable="false" /><Input \n                  value="{TotalWithdrawnQuantity}" description="{BaseUnit}" /><Input \n                  value="{Lgort1}" editable="false" /><Input \n                  value="{Lgort2}" editable="false" /></cells></ColumnListItem></items></Table></content><beginButton><Button \n          id="CloseManualAccountingDialog" \n          type="Emphasized"\n          width="47.5%"\n          icon="sap-icon://decline"\n          press=".onCloseMaterialDocumentCreationDialog"\n          text="{i18n>Close}"/></beginButton><endButton><Button \n          id="ConfirmManualAccountingDialog" \n          type="Accept"\n          width="47.5%"\n          icon="sap-icon://accept"\n          press=".onConfirmMaterialDocumentCreationDialog"\n          text="{i18n>Create}"/></endButton></Dialog></core:FragmentDefinition>',
	"zsubcontractingcockpitapp5/ext/Fragment/ShippingPointList.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><SelectDialog\n\t\tid="selectShippingPointDialog"\n\t\ttitle="{i18n>shippingPoints}"\n\t\titems="{/ZZ1_I_ShippingPoint}"\n\t\tsearch=".onValueHelpShippingPointSearch"\n\t\tconfirm=".onValueHelpShippingPointConfirm"\n\t\tcancel=".onValueHelpShippingPointClose"><StandardListItem\n\t\t\ttitle="{ShippingPoint}"/></SelectDialog></core:FragmentDefinition>',
	"zsubcontractingcockpitapp5/ext/main/Main.controller.js":function(){
sap.ui.define(["sap/fe/core/PageController","sap/ui/model/json/JSONModel","sap/m/Dialog","sap/m/MessageToast"],function(e,t,a,i){"use strict";var r;return e.extend("zsubcontractingcockpitapp5.ext.main.Main",{onInit:function(){r=this;e.prototype.onInit.apply(this,arguments)},onBeforeRendering:function(){r._mainService=r.getOwnerComponent().getModel()},onAfterRendering:function(){r._mainService=r.getOwnerComponent().getModel()},closeCreateMaterialDocumentsDialog:function(){r.pManualNumberingDialog.close()},loadTableData:function(e){var t=e.getParameter("collectionBindingInfo");t.collectionBindingInfo.events={dataReceived:function(e){var t=e.getParameter("data")}}},onCreateMaterialDocuments:function(e){if(r.pManualNumberingDialog===null||r.pManualNumberingDialog===undefined){r.pManualNumberingDialog=sap.ui.xmlfragment(this.getView().getId(),"zsubcontractingcockpitapp5.ext.Fragment.MaterialDocumentCreation",r);r.getView().addDependent(r.pManualNumberingDialog)}r.pManualNumberingDialog.open();if(e.getParameters().id.indexOf("customAction2")>-1){r.byId("lgort1ID").setVisible(true);r.byId("lgort2ID").setVisible(false);r.byId("ManualAccountingDialog").data("buttonPressed","HUB")}else{r.byId("lgort1ID").setVisible(false);r.byId("lgort2ID").setVisible(true);r.byId("ManualAccountingDialog").data("buttonPressed","factory")}var a=[];var i=false;for(var l=0;l<r.byId("TableOrderId").getSelectedContexts().length;l++){if(r.byId("TableOrderId").getSelectedContexts()[l].getObject().requirementtype==="BB"&&r.byId("ManualAccountingDialog").data("buttonPressed")==="factory"){i=true}a.push(r.byId("TableOrderId").getSelectedContexts()[l].getObject());if(r.byId("TableOrderId").getSelectedContexts()[l].getObject().requirementtype==="BB"&&r.byId("ManualAccountingDialog").data("buttonPressed")==="factory"){if(a[l].QtyToIssue>a[l].AvaibilityQtyProdStorage){a[l].QtyToIssue=a[l].AvaibilityQtyProdStorage}}else if(r.byId("TableOrderId").getSelectedContexts()[l].getObject().requirementtype==="BB"&&r.byId("ManualAccountingDialog").data("buttonPressed")==="HUB"){if(a[l].QtyToIssue>a[l].AvaibilityQtyProdStorage){a[l].TotalWithdrawnQuantity=a[l].AvaibilityQtyProdStorage}else{a[l].TotalWithdrawnQuantity=a[l].QtyToIssue}a[l].QtyToIssue=Number(a[l].QtyToIssue)-Number(a[l].AvaibilityQtyProdStorage);if(a[l].QtyToIssue<0){a[l].QtyToIssue=0}}}if(i){r.byId("shippingPointID").setRequired(false)}else{r.byId("shippingPointID").setRequired(true)}var n=r.byId("selectedMaterialTableId");var o=new t;o.setData({SelectedMaterial:a});n.setModel(o)},zeroPad:function(e,t){return e.toString().padStart(t,"0")},onConfirmMaterialDocumentCreationDialog:async function(){if(!this.byId("shippingPointID").getRequired()||this.byId("shippingPointID").getValue()!==null&&this.byId("shippingPointID").getValue()!==undefined&&this.byId("shippingPointID").getValue()!==""){var e=new sap.m.BusyDialog;e.open();var t=r.byId("ManualAccountingDialog").data();var a=[];var l={};for(var n=0;n<this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial.length;n++){if(this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].requirementtype==="BB"&&this.byId("ManualAccountingDialog").data("buttonPressed")==="factory"){var o=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].QtyToIssue;const t=r.getView().getModel();const a=t.bindList("/ZZ1_I_UNION_SUBCONCTR_COMP");const i=new sap.ui.model.Filter("Material","EQ",this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Material);const l=new sap.ui.model.Filter("CprodOrd","EQ",this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].CprodOrd);const u=new sap.ui.model.Filter("Batch","EQ",this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Batch);a.filter([l,i,u]);const c=await a.requestContexts(0,20);var d=c.map(e=>e.getObject());const g=r.getView().getModel();let M={};M.Material=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Material;M.Supplier=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Supplier;var s=g.bindContext("/GetMaterialStock(...)");s.setParameter("Object",M);await s.execute().then(async()=>{var t=s.getBoundContext();var a=t.getObject().value;let i={};let l=[];var n=0;var u=0;for(var c=0;c<d.length;c++){if(n<=Number(o)){let e=Number(d[c].RequiredQuantity-d[c].WithdrawnQuantity);for(var g=0;g<a.length;g++){if(e>0&&n<=Number(o)){if(e<Number(a[g].MatlWrhsStkQtyInMatlBaseUnit)&&e<Number(o)){i={};i.MasterProductionOrder=d[c].MasterProductionOrder;if(a[g].Batch!==undefined&&a[g].Batch!==null&&a[g].Batch!==""){i.Batch=r.zeroPad(a[g].Batch,10)}else{i.Batch=a[g].Batch}i.Quantity=e;i.Material=d[c].Material;i.Plant=d[c].Plant;i.CprodOrd=d[c].CprodOrd;i.UnitMeasure=d[c].BaseUnit;i.PurchaseOrder=d[c].PurchaseOrder;i.PurchaseOrderItem=d[c].PurchaseOrderItem;i.Supplier=r.zeroPad(d[c].Supplier,10);i.ManufacturingOrder=r.zeroPad(d[c].ManufacturingOrder,12);i.ManufacturingOrderOperation=d[c].ManufacturingOrderOperation;l.push(i);a[g].MatlWrhsStkQtyInMatlBaseUnit=a[g].MatlWrhsStkQtyInMatlBaseUnit-e;e=e-i.Quantity;n=Number(n)+Number(i.Quantity);u=Number(o)-n}else{if(a[g].MatlWrhsStkQtyInMatlBaseUnit>0){i={};i.MasterProductionOrder=d[c].MasterProductionOrder;if(a[g].Batch!==undefined&&a[g].Batch!==null&&a[g].Batch!==""){i.Batch=r.zeroPad(a[g].Batch,10)}else{i.Batch=a[g].Batch}if(n>=Number(a[g].MatlWrhsStkQtyInMatlBaseUnit)){i.Quantity=u}else{i.Quantity=Number(a[g].MatlWrhsStkQtyInMatlBaseUnit)}i.Material=d[c].Material;i.Plant=d[c].Plant;i.CprodOrd=d[c].CprodOrd;i.UnitMeasure=d[c].BaseUnit;i.PurchaseOrder=d[c].PurchaseOrder;i.PurchaseOrderItem=d[c].PurchaseOrderItem;i.Supplier=r.zeroPad(d[c].Supplier,10);i.ManufacturingOrder=r.zeroPad(d[c].ManufacturingOrder,12);i.ManufacturingOrderOperation=d[c].ManufacturingOrderOperation;l.push(i);e=e-a[g].MatlWrhsStkQtyInMatlBaseUnit;a[g].MatlWrhsStkQtyInMatlBaseUnit=a[g].MatlWrhsStkQtyInMatlBaseUnit-i.Quantity;n=Number(n)+Number(i.Quantity);u=Number(o)-n}}if(Number(u)===0){break}}}}else{break}}console.log("finito di creare array");const M=r.getView().getModel();var p=M.bindContext("/CreateMaterialDocument(...)");await p.setParameter("Record",l);p.execute().then(t=>{e.close();r.openDialogMessageText("","I")}).catch(t=>{e.close();r.openDialogMessageText("","E")})}).catch(t=>{e.close()})}else{l={};l.Material=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Material;l.Batch=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Batch;l.Stock=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].StockMaterial;l.Quantity=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].QtyToIssue;l.CprodOrd=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].CprodOrd;l.CprodOrd=r.zeroPad(l.CprodOrd,12);l.UnitMeasure=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].EntryUnit;l.Plant=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Plant;l.WorkCenterInternalID=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].WorkCenterInternalID;if(this.byId("ManualAccountingDialog").data("buttonPressed")==="HUB"){l.Lgort=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Lgort1}else{l.Lgort=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Lgort2}l.Vstel=this.byId("shippingPointID").getValue();l.Supplier=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Supplier;if(this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].requirementtype==="BB"){l.Bwart="541";l.Lfart="LB";l.Customer=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Customer;l.Supplier=this.byId("selectedMaterialTableId").getModel().getData().SelectedMaterial[n].Supplier}else{if(this.byId("ManualAccountingDialog").data("buttonPressed")==="HUB"){l.Bwart="313"}else{l.Bwart="311"}l.Lfart="ZHOD"}a.push(l)}}var u=r._mainService.sServiceUrl;const i=r.getView().getModel();const c=i.bindContext("/CreateDelivery(...)");c.setParameter("Record",a);c.execute().then(t=>{e.close();r.openDialogMessageText("","I")}).catch(t=>{e.close();r.openDialogMessageText("","E")});r.pManualNumberingDialog.close()}else{i.show(r.getResourceBundle().getText("vstelMandatory"))}},onCloseMaterialDocumentCreationDialog:function(){r.pManualNumberingDialog.close()},getResourceBundle:function(){return r.getOwnerComponent().getModel("i18n").getResourceBundle()},openDialogMessageText:function(e,t){var i="Message";var r="Error";if(t==="E"){i=this.getResourceBundle().getText("errorTitle");r="Error"}else if(t==="I"){i=this.getResourceBundle().getText("successTitle");r="Success"}var l=new a({title:i,type:"Message",state:r,content:new sap.m.Text({text:e}),beginButton:new sap.m.Button({text:"OK",press:function(){l.close()}}),afterClose:function(){l.destroy()}});l.open()},onValueHelpRequestShippingPoint:function(e){this.byId("shippingPointID").setValue();if(r.pShippingPointDialog===null||r.pShippingPointDialog===undefined){r.pShippingPointDialog=sap.ui.xmlfragment(this.getView().getId(),"zsubcontractingcockpitapp5.ext.Fragment.ShippingPointList",r);r.getView().addDependent(r.pShippingPointDialog)}r.pShippingPointDialog.open()},onValueHelpShippingPointConfirm:function(e){var t=e.getParameter("selectedItem");e.getSource().getBinding("items").filter([]);if(!t){return}this.byId("shippingPointID").setValue(t.getTitle());r.pShippingPointDialog.close()},onValueHelpShippingPointClose:function(e){r.pShippingPointDialog.close()},onValueHelpShippingPointSearch:function(e){var t=e.getParameter("value");var a=new Filter("Name",FilterOperator.Contains,t);e.getSource().getBinding("items").filter([a])}})});
},
	"zsubcontractingcockpitapp5/ext/main/Main.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:macros="sap.fe.macros" xmlns:html="http://www.w3.org/1999/xhtml" controllerName="zsubcontractingcockpitapp5.ext.main.Main"><Page id="Main" title="{i18n>MainTitle}" enableScrolling="true"><content><macros:FilterBar metaPath="/MainCds/@com.sap.vocabularies.UI.v1.SelectionFields#SF" id="FilterBar"/><ScrollContainer horizontal="true"><macros:Table id="TableOrderId" enableFullScreen="true" beforeRebindTable=".loadTableData" metaPath="/MainCds/@com.sap.vocabularies.UI.v1.LineItem#tableMacro" type="GridTable" filterBar="FilterBar" header="Materials" selectionMode="Multi" rowCountMode="Interactive" frozenColumnCount="0" rowCount="100" personalization="true"><macros:actions><macros:action key="customAction" text="{i18n>CreateMaterialDocumentsFromFactory}" press=".onCreateMaterialDocuments" placement="After" requiresSelection="true"/><macros:action key="customAction2" text="{i18n>CreateMaterialDocumentsFromHUB}" press=".onCreateMaterialDocuments" placement="After" requiresSelection="true"/></macros:actions><frozenColumnCount/><rowCount/></macros:Table></ScrollContainer></content></Page></mvc:View>',
	"zsubcontractingcockpitapp5/i18n/i18n.properties":'# This is the resource bundle for zsubcontractingcockpitapp5\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Subcontracting Cockpit\n\n#YDES: Application description\nappDescription=Subcontracting Cockpit\n#XTIT: Custom view title\nMainTitle=Main\n\nCreate=Create\ncreateMaterialDocument=Create Material Document\nsuccessTitle=Success\nradialChart=Chart\nCreateMaterialDocumentsFromFactory=Create Material Documents From Factory\nCreateMaterialDocumentsFromHUB=Create Material Documents From HUB\n\nkittinQty=KittingAllocQty\ntotalAllocQty=TotalAllocQty\nvstelMandatory=Insert shipping point\n\n# popup conferma materiale\nvstel=Shipping Point\ncprodOrd=Combined Order\nplant=Plant\nmaterial=Material\nbatch=Batch\nstock=Stock\nquantity=Required Quantity\nquantityToIssue=Quantity to Issue\ntotalWithdrawnQuantity=Quantity To Withdrawn\nlgort1=Storage Location\nlgort2=Storage Location\nproductDescription=Descrizione',
	"zsubcontractingcockpitapp5/i18n/i18n_it.properties":'# This is the resource bundle for zsubcontractingcockpitapp5\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Subcontracting Cockpit\n\n#YDES: Application description\nappDescription=Subcontracting Cockpit\n#XTIT: Custom view title\nMainTitle=Main\n\nCreate=Crea\ncreateMaterialDocument=Crea Documento Materiale\nsuccessTitle=Successo\nradialChart=Chart\nCreateMaterialDocumentsFromFactory=Crea documento materiale da Fabbrica\nCreateMaterialDocumentsFromHUB=Crea documento materiale da HUB\n\nkittinQty=Totale quantit\\u00e0 assegnata\ntotalAllocQty=Totale quantit\\u00e0 allocata\nvstelMandatory=Inserisci un punto di spedizione\n\n# popup conferma materiale\nvstel=Punto di spedizione\ncprodOrd=Ordine Combinato\nplant=Divisione\nmaterial=Materiale\nbatch=Partita\nstock=Stock\nquantity=Quantit\\u00e0 Richiesta\nquantityToIssue=Quantit\\u00e0 da Spedire\ntotalWithdrawnQuantity=Quantit\\u00e0 consumata\nlgort1=Magazzino\nlgort2=Magazzino\nproductDescription=Descrizione',
	"zsubcontractingcockpitapp5/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"zsubcontractingcockpitapp5","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.5"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:fpm","version":"1.16.3","toolsId":"ae4b1ba6-ef45-4af9-b458-aab1990c0f2c"},"dataSources":{"mainService":{"uri":"odata/v4/catalog/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"prapp-display":{"semanticObject":"zsubckpt5","action":"display","title":"Subc Cockpit New","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.133.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.core":{},"sap.fe.macros":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"zsubcontractingcockpitapp5.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{},"routes":[{"name":"C_ProcmtDocSubcontrgHierarchyMain","pattern":":?query:","target":"C_ProcmtDocSubcontrgHierarchyMain"}],"targets":{"C_ProcmtDocSubcontrgHierarchyMain":{"type":"Component","id":"C_ProcmtDocSubcontrgHierarchyMain","name":"sap.fe.core.fpm","options":{"settings":{"navigation":{},"contextPath":"/C_ProcmtDocSubcontrgHierarchy","viewName":"zsubcontractingcockpitapp5.ext.main.Main"}}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"lp.zsubcontracting_cockpit"}}'
});
//# sourceMappingURL=Component-preload.js.map
